import openai
import lmql
import asyncio
import nest_asyncio

nest_asyncio.apply()

from lmql.lib.chat import message

@lmql.query()
def chatbot():
    '''lmql
    print("Chatbot is ready. Type 'Thanks! Goodbye' to exit.")
    argmax 
        while True:
            "{await input()}"
            "[@message ANSWER]"
            if "Goodbye!" in ANSWER:
                break
            print(ANSWER)
    from "chatgpt"
    '''

result = chatbot()
print(result.variables["ANSWER"])